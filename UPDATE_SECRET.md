# Обновление секрета CLASP_TOKEN в GitHub

## Проблема
Base64 строка в секрете GitHub может быть обрезана или содержать лишние символы.

## Решение

### 1. Откройте файл с Base64 строкой
Файл `CLASP_TOKEN_BASE64.txt` содержит полную Base64 строку (845 символов).

### 2. Скопируйте содержимое
Откройте файл и скопируйте **всю строку целиком** (без переносов строк).

### 3. Обновите секрет в GitHub
1. Перейдите: https://github.com/alxprokudin/my-workspace-addons/settings/secrets/actions
2. Найдите секрет `CLASP_TOKEN`
3. Нажмите карандаш (редактировать)
4. **Удалите всё старое содержимое**
5. Вставьте скопированную Base64 строку (одна строка, без переносов)
6. Сохраните

### 4. Проверка
После обновления секрета:
- Workflow автоматически запустится при следующем push
- Или запустите вручную: Actions → Deploy to Google Apps Script → Run workflow

### 5. Что проверить в логах
В шаге "Authenticate with Google" должно быть:
- ✅ Base64 string length: 845 characters
- ✅ File size: ~632 bytes (после декодирования)
- ✅ JSON is valid
- ✅ JSON structure: ["tokens"]

## Важно
- Base64 строка должна быть **одной строкой** без переносов
- Длина должна быть **845 символов**
- Не должно быть пробелов в начале или конце

