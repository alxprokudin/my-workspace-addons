# ⚠️ ВАЖНО: Безопасность ключей

## Проблема

В файле `dialog.html` были обнаружены реальные ключи API, которые были закоммичены в публичный репозиторий. Это серьезная проблема безопасности.

## Что нужно сделать СРОЧНО

### 1. Отзовите скомпрометированные ключи

Ключи, которые были в репозитории:
- **DEVELOPER_KEY**: `AIzaSyCeKsJs2wuDIv8nxDd6hUS77FgQdFhnbgY`
- **CLOUD_PROJECT_NUMBER**: `1023595276216`

**Действия:**

1. Откройте [Google Cloud Console](https://console.cloud.google.com)
2. Перейдите в **APIs & Services** → **Credentials**
3. Найдите OAuth 2.0 Client ID с этим ключом
4. **УДАЛИТЕ** или **ОТЗОВИТЕ** этот Client ID
5. Создайте **НОВЫЙ** OAuth 2.0 Client ID
6. Запишите новый Client ID в безопасном месте

### 2. Обновите ключи в проекте

1. Откройте `dialog.html` в Google Apps Script
2. Замените значения на новые ключи:
   ```javascript
   const DEVELOPER_KEY = "НОВЫЙ_CLIENT_ID";
   const CLOUD_PROJECT_NUMBER = "ВАШ_PROJECT_NUMBER";
   ```
3. **НЕ коммитьте** файл с реальными ключами в репозиторий!

### 3. Используйте плейсхолдеры в репозитории

В репозитории файл `dialog.html` теперь содержит плейсхолдеры:
```javascript
const DEVELOPER_KEY = "ВАШ_DEVELOPER_KEY_ЗДЕСЬ";
const CLOUD_PROJECT_NUMBER = "ВАШ_CLOUD_PROJECT_NUMBER_ЗДЕСЬ";
```

Это правильно! Реальные ключи должны быть только в Google Apps Script, не в репозитории.

## Правила работы с ключами

### ✅ ДЕЛАЙТЕ:
- Используйте плейсхолдеры в публичных репозиториях
- Храните реальные ключи только в Google Apps Script
- Используйте `.gitignore` для исключения файлов с ключами
- Записывайте ключи в безопасном месте (менеджер паролей)

### ❌ НЕ ДЕЛАЙТЕ:
- НЕ коммитьте реальные ключи в git
- НЕ публикуйте ключи в открытых репозиториях
- НЕ делитесь ключами в чатах или email
- НЕ храните ключи в незашифрованном виде

## Структура проекта

```
GW/
├── dialog.html              # С плейсхолдерами (для репозитория)
├── dialog.html.example      # Пример с инструкциями
├── .gitignore              # Исключает файлы с ключами
└── SECURITY_NOTICE.md       # Этот файл
```

**В Google Apps Script:**
- `dialog.html` - с РЕАЛЬНЫМИ ключами (не в репозитории!)

## Дополнительная защита

Если ключи были скомпрометированы:

1. **Проверьте использование ключей:**
   - В Google Cloud Console → APIs & Services → Credentials
   - Проверьте логи использования API
   - Убедитесь, что нет подозрительной активности

2. **Ограничьте доступ:**
   - Настройте ограничения по IP (если возможно)
   - Ограничьте разрешения OAuth scopes до минимума
   - Включите двухфакторную аутентификацию

3. **Мониторинг:**
   - Регулярно проверяйте использование API
   - Настройте алерты на необычную активность

## Полезные ссылки

- [Google Cloud Security Best Practices](https://cloud.google.com/security/best-practices)
- [OAuth 2.0 Security](https://oauth.net/2/security-best-practices/)
- [GitHub Security](https://docs.github.com/en/code-security)

---

**Помните: безопасность - это ваша ответственность!**

